// Generated by moon test.

type Moonbit_Test_Driver_Internal_No_Args_Map = @moonbitlang/core/builtin.Map[
  String,
  @moonbitlang/core/builtin.Map[
    Int,
    (() -> Unit raise, @moonbitlang/core/builtin.Array[String]),
  ],
]

type Moonbit_Test_Driver_Internal_TestDriver_With_Args_Map = @moonbitlang/core/builtin.Map[
  String,
  @moonbitlang/core/builtin.Map[
    Int,
    (
      (Moonbit_Test_Driver_Internal_Test_Arg) -> Unit raise,
      @moonbitlang/core/builtin.Array[String],
    ),
  ],
]

type Moonbit_Test_Driver_Internal_TestDriver_Async_Map = @moonbitlang/core/builtin.Map[
  String,
  @moonbitlang/core/builtin.Map[
    Int,
    (
      async () -> Unit raise,
      @moonbitlang/core/builtin.Array[String],
    ),
  ],
]

type Moonbit_Test_Driver_Internal_TestDriver_Async_With_Args_Map = @moonbitlang/core/builtin.Map[
  String,
  @moonbitlang/core/builtin.Map[
    Int,
    (
      async (Moonbit_Test_Driver_Internal_Test_Arg) -> Unit raise,
      @moonbitlang/core/builtin.Array[String],
    ),
  ],
]

let moonbit_test_driver_internal_no_args_tests : Moonbit_Test_Driver_Internal_No_Args_Map = {
  "validate.mbt": {
    0: (__test_76616c69646174652e6d6274_0, ["Fuzz Modules"]),
    1: (__test_76616c69646174652e6d6274_1, ["NumType validates successfully"]),
    2: (__test_76616c69646174652e6d6274_2, ["AbsHeapType validates successfully"]),
    3: (__test_76616c69646174652e6d6274_3, ["HeapType with AbsHeapType validates"]),
    4: (__test_76616c69646174652e6d6274_4, ["HeapType with invalid TypeIdx fails"]),
    5: (__test_76616c69646174652e6d6274_5, ["HeapType with valid TypeIdx succeeds"]),
    6: (__test_76616c69646174652e6d6274_6, ["ValType NumType validates"]),
    7: (__test_76616c69646174652e6d6274_7, ["ValType VecType validates"]),
    8: (__test_76616c69646174652e6d6274_8, ["ValType BotType validates"]),
    9: (__test_76616c69646174652e6d6274_9, ["ValType RefType with AbsHeapType validates"]),
    10: (__test_76616c69646174652e6d6274_10, ["RefType HeapTypeRefType with valid AbsHeapType validates"]),
    11: (__test_76616c69646174652e6d6274_11, ["RefType HeapTypeRefType nullable and non-nullable validate"]),
    12: (__test_76616c69646174652e6d6274_12, ["TypeIdx validates when type exists"]),
    13: (__test_76616c69646174652e6d6274_13, ["TypeIdx fails when type does not exist"]),
    14: (__test_76616c69646174652e6d6274_14, ["TypeIdx fails with out of bounds index"]),
    15: (__test_76616c69646174652e6d6274_15, ["LabelIdx validates when label exists"]),
    16: (__test_76616c69646174652e6d6274_16, ["LabelIdx fails when label does not exist"]),
    17: (__test_76616c69646174652e6d6274_17, ["LabelIdx fails with out of bounds index"]),
    18: (__test_76616c69646174652e6d6274_18, ["TagIdx validates when tag exists"]),
    19: (__test_76616c69646174652e6d6274_19, ["TagIdx fails when tag does not exist"]),
    20: (__test_76616c69646174652e6d6274_20, ["FuncIdx validates when func exists"]),
    21: (__test_76616c69646174652e6d6274_21, ["FuncIdx fails when func does not exist"]),
    22: (__test_76616c69646174652e6d6274_22, ["TableIdx validates when table exists"]),
    23: (__test_76616c69646174652e6d6274_23, ["TableIdx fails when table does not exist"]),
    24: (__test_76616c69646174652e6d6274_24, ["MemIdx validates when memory exists"]),
    25: (__test_76616c69646174652e6d6274_25, ["MemIdx fails when memory does not exist"]),
    26: (__test_76616c69646174652e6d6274_26, ["GlobalIdx validates when global exists"]),
    27: (__test_76616c69646174652e6d6274_27, ["GlobalIdx fails when global does not exist"]),
    28: (__test_76616c69646174652e6d6274_28, ["I32Limits validates within max"]),
    29: (__test_76616c69646174652e6d6274_29, ["I32Limits validates with no upper bound"]),
    30: (__test_76616c69646174652e6d6274_30, ["I32Limits fails when n exceeds k"]),
    31: (__test_76616c69646174652e6d6274_31, ["I32Limits fails when m exceeds k"]),
    32: (__test_76616c69646174652e6d6274_32, ["I32Limits fails when n exceeds m"]),
    33: (__test_76616c69646174652e6d6274_33, ["I64Limits validates within max"]),
    34: (__test_76616c69646174652e6d6274_34, ["MemType validates with valid limits"]),
    35: (__test_76616c69646174652e6d6274_35, ["MemType fails when limits exceed 65536"]),
    36: (__test_76616c69646174652e6d6274_36, ["TableType validates with valid ref type and limits"]),
    37: (__test_76616c69646174652e6d6274_37, ["GlobalType validates with NumType"]),
    38: (__test_76616c69646174652e6d6274_38, ["GlobalType validates mutable"]),
    39: (__test_76616c69646174652e6d6274_39, ["StorageType ValType validates"]),
    40: (__test_76616c69646174652e6d6274_40, ["StorageType PackType validates"]),
    41: (__test_76616c69646174652e6d6274_41, ["FieldType validates"]),
    42: (__test_76616c69646174652e6d6274_42, ["FuncType with empty params and results validates"]),
    43: (__test_76616c69646174652e6d6274_43, ["FuncType with params and results validates"]),
    44: (__test_76616c69646174652e6d6274_44, ["CompType FuncCompType validates"]),
    45: (__test_76616c69646174652e6d6274_45, ["CompType ArrayCompType validates"]),
    46: (__test_76616c69646174652e6d6274_46, ["CompType StructCompType validates"]),
    47: (__test_76616c69646174652e6d6274_47, ["CompType StructCompType empty validates"]),
    48: (__test_76616c69646174652e6d6274_48, ["SubType CompTypeSubType validates"]),
    49: (__test_76616c69646174652e6d6274_49, ["RecType SingleRecType validates"]),
    50: (__test_76616c69646174652e6d6274_50, ["RecType GroupRecType validates"]),
    51: (__test_76616c69646174652e6d6274_51, ["Array of ValType validates"]),
    52: (__test_76616c69646174652e6d6274_52, ["Empty array validates"]),
    53: (__test_76616c69646174652e6d6274_53, ["BlockType EmptyBlockType validates"]),
    54: (__test_76616c69646174652e6d6274_54, ["BlockType ValTypeBlockType validates"]),
    55: (__test_76616c69646174652e6d6274_55, ["BlockType TypeIdxBlockType with valid func type validates"]),
    56: (__test_76616c69646174652e6d6274_56, ["BlockType TypeIdxBlockType with invalid index fails"]),
    57: (__test_76616c69646174652e6d6274_57, ["BlockType TypeIdxBlockType with non-func type fails"]),
    58: (__test_76616c69646174652e6d6274_58, ["ExternType GlobalExternType validates"]),
    59: (__test_76616c69646174652e6d6274_59, ["ExternType MemExternType validates"]),
    60: (__test_76616c69646174652e6d6274_60, ["ExternType TableExternType validates"]),
    61: (__test_76616c69646174652e6d6274_61, ["ExternType FuncExternType validates when func type exists"]),
    62: (__test_76616c69646174652e6d6274_62, ["ExternType FuncExternType fails when func type missing"]),
    63: (__test_76616c69646174652e6d6274_63, ["ExternIdx FuncExternIdx validates"]),
    64: (__test_76616c69646174652e6d6274_64, ["ExternIdx TableExternIdx validates"]),
    65: (__test_76616c69646174652e6d6274_65, ["ExternIdx MemExternIdx validates"]),
    66: (__test_76616c69646174652e6d6274_66, ["ExternIdx GlobalExternIdx validates"]),
    67: (__test_76616c69646174652e6d6274_67, ["Export with valid FuncExternIdx validates"]),
    68: (__test_76616c69646174652e6d6274_68, ["Export with invalid index fails"]),
    69: (__test_76616c69646174652e6d6274_69, ["Import with valid GlobalExternType validates"]),
    70: (__test_76616c69646174652e6d6274_70, ["DataMode Passive validates"]),
    71: (__test_76616c69646174652e6d6274_71, ["Data with Passive mode validates"]),
    72: (__test_76616c69646174652e6d6274_72, ["Catch CatchAll validates with valid label"]),
    73: (__test_76616c69646174652e6d6274_73, ["Catch CatchAllRef validates with valid label"]),
    74: (__test_76616c69646174652e6d6274_74, ["Catch CatchAll fails with invalid label"]),
  },
  "typecheck.mbt": {
    0: (__test_74797065636865636b2e6d6274_0, ["Typecheck Unreachable"]),
    1: (__test_74797065636865636b2e6d6274_1, ["Typecheck Nop"]),
    2: (__test_74797065636865636b2e6d6274_2, ["Typecheck Block empty"]),
    3: (__test_74797065636865636b2e6d6274_3, ["Typecheck Block with result"]),
    4: (__test_74797065636865636b2e6d6274_4, ["Typecheck Block preserves outer stack"]),
    5: (__test_74797065636865636b2e6d6274_5, ["Typecheck Loop empty"]),
    6: (__test_74797065636865636b2e6d6274_6, ["Typecheck If without else"]),
    7: (__test_74797065636865636b2e6d6274_7, ["Typecheck If with else"]),
    8: (__test_74797065636865636b2e6d6274_8, ["Typecheck If fails without condition"]),
    9: (__test_74797065636865636b2e6d6274_9, ["Typecheck Br"]),
    10: (__test_74797065636865636b2e6d6274_10, ["Typecheck Br with values"]),
    11: (__test_74797065636865636b2e6d6274_11, ["Typecheck Br invalid label"]),
    12: (__test_74797065636865636b2e6d6274_12, ["Typecheck BrIf"]),
    13: (__test_74797065636865636b2e6d6274_13, ["Typecheck BrIf with values"]),
    14: (__test_74797065636865636b2e6d6274_14, ["Typecheck BrTable"]),
    15: (__test_74797065636865636b2e6d6274_15, ["Typecheck BrTable with values"]),
    16: (__test_74797065636865636b2e6d6274_16, ["Typecheck BrTable with multiple values"]),
    17: (__test_74797065636865636b2e6d6274_17, ["Typecheck BrTable multiple targets"]),
    18: (__test_74797065636865636b2e6d6274_18, ["Typecheck BrTable invalid default label"]),
    19: (__test_74797065636865636b2e6d6274_19, ["Typecheck BrTable invalid table label"]),
    20: (__test_74797065636865636b2e6d6274_20, ["Typecheck BrTable mismatched label types"]),
    21: (__test_74797065636865636b2e6d6274_21, ["Typecheck BrTable mismatched label value types"]),
    22: (__test_74797065636865636b2e6d6274_22, ["Typecheck BrTable missing selector"]),
    23: (__test_74797065636865636b2e6d6274_23, ["Typecheck BrTable missing branch values"]),
    24: (__test_74797065636865636b2e6d6274_24, ["Typecheck BrTable wrong selector type"]),
    25: (__test_74797065636865636b2e6d6274_25, ["Typecheck Return"]),
    26: (__test_74797065636865636b2e6d6274_26, ["Typecheck Return with value"]),
    27: (__test_74797065636865636b2e6d6274_27, ["Typecheck Drop i32"]),
    28: (__test_74797065636865636b2e6d6274_28, ["Typecheck Drop i64"]),
    29: (__test_74797065636865636b2e6d6274_29, ["Typecheck Drop fails empty stack"]),
    30: (__test_74797065636865636b2e6d6274_30, ["Typecheck Select without annotation"]),
    31: (__test_74797065636865636b2e6d6274_31, ["Typecheck Select with annotation"]),
    32: (__test_74797065636865636b2e6d6274_32, ["Typecheck Select type mismatch fails"]),
    33: (__test_74797065636865636b2e6d6274_33, ["Typecheck LocalGet"]),
    34: (__test_74797065636865636b2e6d6274_34, ["Typecheck LocalGet invalid index"]),
    35: (__test_74797065636865636b2e6d6274_35, ["Typecheck LocalSet"]),
    36: (__test_74797065636865636b2e6d6274_36, ["Typecheck LocalSet type mismatch"]),
    37: (__test_74797065636865636b2e6d6274_37, ["Typecheck LocalTee"]),
    38: (__test_74797065636865636b2e6d6274_38, ["Typecheck GlobalGet"]),
    39: (__test_74797065636865636b2e6d6274_39, ["Typecheck GlobalSet mutable"]),
    40: (__test_74797065636865636b2e6d6274_40, ["Typecheck GlobalSet immutable fails"]),
    41: (__test_74797065636865636b2e6d6274_41, ["Typecheck TableGet"]),
    42: (__test_74797065636865636b2e6d6274_42, ["Typecheck TableSet"]),
    43: (__test_74797065636865636b2e6d6274_43, ["Typecheck TableSize"]),
    44: (__test_74797065636865636b2e6d6274_44, ["Typecheck TableGrow"]),
    45: (__test_74797065636865636b2e6d6274_45, ["Typecheck TableFill"]),
    46: (__test_74797065636865636b2e6d6274_46, ["Typecheck TableCopy"]),
    47: (__test_74797065636865636b2e6d6274_47, ["Typecheck I32Load"]),
    48: (__test_74797065636865636b2e6d6274_48, ["Typecheck I64Load"]),
    49: (__test_74797065636865636b2e6d6274_49, ["Typecheck F32Load"]),
    50: (__test_74797065636865636b2e6d6274_50, ["Typecheck F64Load"]),
    51: (__test_74797065636865636b2e6d6274_51, ["Typecheck I32Load8S"]),
    52: (__test_74797065636865636b2e6d6274_52, ["Typecheck I32Load8U"]),
    53: (__test_74797065636865636b2e6d6274_53, ["Typecheck I32Load16S"]),
    54: (__test_74797065636865636b2e6d6274_54, ["Typecheck I32Load16U"]),
    55: (__test_74797065636865636b2e6d6274_55, ["Typecheck I64Load8S"]),
    56: (__test_74797065636865636b2e6d6274_56, ["Typecheck I64Load32S"]),
    57: (__test_74797065636865636b2e6d6274_57, ["Typecheck I32Store"]),
    58: (__test_74797065636865636b2e6d6274_58, ["Typecheck I64Store"]),
    59: (__test_74797065636865636b2e6d6274_59, ["Typecheck F32Store"]),
    60: (__test_74797065636865636b2e6d6274_60, ["Typecheck F64Store"]),
    61: (__test_74797065636865636b2e6d6274_61, ["Typecheck I32Store8"]),
    62: (__test_74797065636865636b2e6d6274_62, ["Typecheck I64Store32"]),
    63: (__test_74797065636865636b2e6d6274_63, ["Typecheck MemorySize"]),
    64: (__test_74797065636865636b2e6d6274_64, ["Typecheck MemoryGrow"]),
    65: (__test_74797065636865636b2e6d6274_65, ["Typecheck MemoryCopy"]),
    66: (__test_74797065636865636b2e6d6274_66, ["Typecheck MemoryFill"]),
    67: (__test_74797065636865636b2e6d6274_67, ["Typecheck I32Const"]),
    68: (__test_74797065636865636b2e6d6274_68, ["Typecheck I64Const"]),
    69: (__test_74797065636865636b2e6d6274_69, ["Typecheck F32Const"]),
    70: (__test_74797065636865636b2e6d6274_70, ["Typecheck F64Const"]),
    71: (__test_74797065636865636b2e6d6274_71, ["Typecheck I32Eqz"]),
    72: (__test_74797065636865636b2e6d6274_72, ["Typecheck I32Eq"]),
    73: (__test_74797065636865636b2e6d6274_73, ["Typecheck I32Ne"]),
    74: (__test_74797065636865636b2e6d6274_74, ["Typecheck I32LtS"]),
    75: (__test_74797065636865636b2e6d6274_75, ["Typecheck I32LtU"]),
    76: (__test_74797065636865636b2e6d6274_76, ["Typecheck I32GtS"]),
    77: (__test_74797065636865636b2e6d6274_77, ["Typecheck I32GtU"]),
    78: (__test_74797065636865636b2e6d6274_78, ["Typecheck I32LeS"]),
    79: (__test_74797065636865636b2e6d6274_79, ["Typecheck I32LeU"]),
    80: (__test_74797065636865636b2e6d6274_80, ["Typecheck I32GeS"]),
    81: (__test_74797065636865636b2e6d6274_81, ["Typecheck I32GeU"]),
    82: (__test_74797065636865636b2e6d6274_82, ["Typecheck I64Eqz"]),
    83: (__test_74797065636865636b2e6d6274_83, ["Typecheck I64Eq"]),
    84: (__test_74797065636865636b2e6d6274_84, ["Typecheck I64Ne"]),
    85: (__test_74797065636865636b2e6d6274_85, ["Typecheck I64LtS"]),
    86: (__test_74797065636865636b2e6d6274_86, ["Typecheck I64GtU"]),
    87: (__test_74797065636865636b2e6d6274_87, ["Typecheck F32Eq"]),
    88: (__test_74797065636865636b2e6d6274_88, ["Typecheck F32Ne"]),
    89: (__test_74797065636865636b2e6d6274_89, ["Typecheck F32Lt"]),
    90: (__test_74797065636865636b2e6d6274_90, ["Typecheck F32Gt"]),
    91: (__test_74797065636865636b2e6d6274_91, ["Typecheck F32Le"]),
    92: (__test_74797065636865636b2e6d6274_92, ["Typecheck F32Ge"]),
    93: (__test_74797065636865636b2e6d6274_93, ["Typecheck F64Eq"]),
    94: (__test_74797065636865636b2e6d6274_94, ["Typecheck F64Lt"]),
    95: (__test_74797065636865636b2e6d6274_95, ["Typecheck I32Clz"]),
    96: (__test_74797065636865636b2e6d6274_96, ["Typecheck I32Ctz"]),
    97: (__test_74797065636865636b2e6d6274_97, ["Typecheck I32Popcnt"]),
    98: (__test_74797065636865636b2e6d6274_98, ["Typecheck I32Add"]),
    99: (__test_74797065636865636b2e6d6274_99, ["Typecheck I32Sub"]),
    100: (__test_74797065636865636b2e6d6274_100, ["Typecheck I32Mul"]),
    101: (__test_74797065636865636b2e6d6274_101, ["Typecheck I32DivS"]),
    102: (__test_74797065636865636b2e6d6274_102, ["Typecheck I32DivU"]),
    103: (__test_74797065636865636b2e6d6274_103, ["Typecheck I32RemS"]),
    104: (__test_74797065636865636b2e6d6274_104, ["Typecheck I32RemU"]),
    105: (__test_74797065636865636b2e6d6274_105, ["Typecheck I32And"]),
    106: (__test_74797065636865636b2e6d6274_106, ["Typecheck I32Or"]),
    107: (__test_74797065636865636b2e6d6274_107, ["Typecheck I32Xor"]),
    108: (__test_74797065636865636b2e6d6274_108, ["Typecheck I32Shl"]),
    109: (__test_74797065636865636b2e6d6274_109, ["Typecheck I32ShrS"]),
    110: (__test_74797065636865636b2e6d6274_110, ["Typecheck I32ShrU"]),
    111: (__test_74797065636865636b2e6d6274_111, ["Typecheck I32Rotl"]),
    112: (__test_74797065636865636b2e6d6274_112, ["Typecheck I32Rotr"]),
    113: (__test_74797065636865636b2e6d6274_113, ["Typecheck I64Clz"]),
    114: (__test_74797065636865636b2e6d6274_114, ["Typecheck I64Add"]),
    115: (__test_74797065636865636b2e6d6274_115, ["Typecheck I64Sub"]),
    116: (__test_74797065636865636b2e6d6274_116, ["Typecheck I64Mul"]),
    117: (__test_74797065636865636b2e6d6274_117, ["Typecheck F32Abs"]),
    118: (__test_74797065636865636b2e6d6274_118, ["Typecheck F32Neg"]),
    119: (__test_74797065636865636b2e6d6274_119, ["Typecheck F32Ceil"]),
    120: (__test_74797065636865636b2e6d6274_120, ["Typecheck F32Floor"]),
    121: (__test_74797065636865636b2e6d6274_121, ["Typecheck F32Sqrt"]),
    122: (__test_74797065636865636b2e6d6274_122, ["Typecheck F32Add"]),
    123: (__test_74797065636865636b2e6d6274_123, ["Typecheck F32Sub"]),
    124: (__test_74797065636865636b2e6d6274_124, ["Typecheck F32Mul"]),
    125: (__test_74797065636865636b2e6d6274_125, ["Typecheck F32Div"]),
    126: (__test_74797065636865636b2e6d6274_126, ["Typecheck F32Min"]),
    127: (__test_74797065636865636b2e6d6274_127, ["Typecheck F32Max"]),
    128: (__test_74797065636865636b2e6d6274_128, ["Typecheck F32Copysign"]),
    129: (__test_74797065636865636b2e6d6274_129, ["Typecheck F64Abs"]),
    130: (__test_74797065636865636b2e6d6274_130, ["Typecheck F64Neg"]),
    131: (__test_74797065636865636b2e6d6274_131, ["Typecheck F64Add"]),
    132: (__test_74797065636865636b2e6d6274_132, ["Typecheck F64Sub"]),
    133: (__test_74797065636865636b2e6d6274_133, ["Typecheck F64Mul"]),
    134: (__test_74797065636865636b2e6d6274_134, ["Typecheck F64Div"]),
    135: (__test_74797065636865636b2e6d6274_135, ["Typecheck I32WrapI64"]),
    136: (__test_74797065636865636b2e6d6274_136, ["Typecheck I32TruncF32S"]),
    137: (__test_74797065636865636b2e6d6274_137, ["Typecheck I32TruncF32U"]),
    138: (__test_74797065636865636b2e6d6274_138, ["Typecheck I32TruncF64S"]),
    139: (__test_74797065636865636b2e6d6274_139, ["Typecheck I32TruncF64U"]),
    140: (__test_74797065636865636b2e6d6274_140, ["Typecheck I64ExtendI32S"]),
    141: (__test_74797065636865636b2e6d6274_141, ["Typecheck I64ExtendI32U"]),
    142: (__test_74797065636865636b2e6d6274_142, ["Typecheck I64TruncF32S"]),
    143: (__test_74797065636865636b2e6d6274_143, ["Typecheck I64TruncF64S"]),
    144: (__test_74797065636865636b2e6d6274_144, ["Typecheck F32ConvertI32S"]),
    145: (__test_74797065636865636b2e6d6274_145, ["Typecheck F32ConvertI32U"]),
    146: (__test_74797065636865636b2e6d6274_146, ["Typecheck F32ConvertI64S"]),
    147: (__test_74797065636865636b2e6d6274_147, ["Typecheck F32DemoteF64"]),
    148: (__test_74797065636865636b2e6d6274_148, ["Typecheck F64ConvertI32S"]),
    149: (__test_74797065636865636b2e6d6274_149, ["Typecheck F64ConvertI64S"]),
    150: (__test_74797065636865636b2e6d6274_150, ["Typecheck F64PromoteF32"]),
    151: (__test_74797065636865636b2e6d6274_151, ["Typecheck I32ReinterpretF32"]),
    152: (__test_74797065636865636b2e6d6274_152, ["Typecheck I64ReinterpretF64"]),
    153: (__test_74797065636865636b2e6d6274_153, ["Typecheck F32ReinterpretI32"]),
    154: (__test_74797065636865636b2e6d6274_154, ["Typecheck F64ReinterpretI64"]),
    155: (__test_74797065636865636b2e6d6274_155, ["Typecheck I32Extend8S"]),
    156: (__test_74797065636865636b2e6d6274_156, ["Typecheck I32Extend16S"]),
    157: (__test_74797065636865636b2e6d6274_157, ["Typecheck I64Extend8S"]),
    158: (__test_74797065636865636b2e6d6274_158, ["Typecheck I64Extend16S"]),
    159: (__test_74797065636865636b2e6d6274_159, ["Typecheck I64Extend32S"]),
    160: (__test_74797065636865636b2e6d6274_160, ["Typecheck I32TruncSatF32S"]),
    161: (__test_74797065636865636b2e6d6274_161, ["Typecheck I32TruncSatF32U"]),
    162: (__test_74797065636865636b2e6d6274_162, ["Typecheck I32TruncSatF64S"]),
    163: (__test_74797065636865636b2e6d6274_163, ["Typecheck I64TruncSatF32S"]),
    164: (__test_74797065636865636b2e6d6274_164, ["Typecheck I64TruncSatF64S"]),
    165: (__test_74797065636865636b2e6d6274_165, ["Typecheck RefNull func"]),
    166: (__test_74797065636865636b2e6d6274_166, ["Typecheck RefNull extern"]),
    167: (__test_74797065636865636b2e6d6274_167, ["Typecheck RefIsNull"]),
    168: (__test_74797065636865636b2e6d6274_168, ["Typecheck RefEq"]),
    169: (__test_74797065636865636b2e6d6274_169, ["Typecheck RefAsNonNull"]),
    170: (__test_74797065636865636b2e6d6274_170, ["Typecheck BrOnNonNull basic"]),
    171: (__test_74797065636865636b2e6d6274_171, ["Typecheck BrOnNonNull with prefix types"]),
    172: (__test_74797065636865636b2e6d6274_172, ["Typecheck BrOnNonNull with externref"]),
    173: (__test_74797065636865636b2e6d6274_173, ["Typecheck BrOnNonNull fails with wrong label type"]),
    174: (__test_74797065636865636b2e6d6274_174, ["Typecheck BrOnNull basic"]),
    175: (__test_74797065636865636b2e6d6274_175, ["Typecheck BrOnNull with prefix types"]),
    176: (__test_74797065636865636b2e6d6274_176, ["Typecheck BrOnNull with externref"]),
    177: (__test_74797065636865636b2e6d6274_177, ["Typecheck RefI31"]),
    178: (__test_74797065636865636b2e6d6274_178, ["Typecheck I31GetS"]),
    179: (__test_74797065636865636b2e6d6274_179, ["Typecheck I31GetU"]),
    180: (__test_74797065636865636b2e6d6274_180, ["Typecheck AnyConvertExtern"]),
    181: (__test_74797065636865636b2e6d6274_181, ["Typecheck ExternConvertAny"]),
    182: (__test_74797065636865636b2e6d6274_182, ["Typecheck I32Const pushes i32"]),
    183: (__test_74797065636865636b2e6d6274_183, ["Typecheck I32Add consumes two i32s and produces one"]),
    184: (__test_74797065636865636b2e6d6274_184, ["Typecheck I32Add fails with insufficient stack"]),
    185: (__test_74797065636865636b2e6d6274_185, ["Typecheck Drop removes top of stack"]),
    186: (__test_74797065636865636b2e6d6274_186, ["Typecheck Unreachable makes state unreachable"]),
    187: (__test_74797065636865636b2e6d6274_187, ["Typecheck empty Expr"]),
    188: (__test_74797065636865636b2e6d6274_188, ["Typecheck Expr sequence"]),
    189: (__test_74797065636865636b2e6d6274_189, ["Typecheck I64Const pushes i64"]),
    190: (__test_74797065636865636b2e6d6274_190, ["Typecheck type mismatch fails"]),
    191: (__test_74797065636865636b2e6d6274_191, ["Typecheck V128Const"]),
    192: (__test_74797065636865636b2e6d6274_192, ["Typecheck V128Load"]),
    193: (__test_74797065636865636b2e6d6274_193, ["Typecheck V128Store"]),
    194: (__test_74797065636865636b2e6d6274_194, ["Typecheck I8x16Splat"]),
    195: (__test_74797065636865636b2e6d6274_195, ["Typecheck I16x8Splat"]),
    196: (__test_74797065636865636b2e6d6274_196, ["Typecheck I32x4Splat"]),
    197: (__test_74797065636865636b2e6d6274_197, ["Typecheck I64x2Splat"]),
    198: (__test_74797065636865636b2e6d6274_198, ["Typecheck F32x4Splat"]),
    199: (__test_74797065636865636b2e6d6274_199, ["Typecheck F64x2Splat"]),
    200: (__test_74797065636865636b2e6d6274_200, ["Typecheck I8x16ExtractLaneS"]),
    201: (__test_74797065636865636b2e6d6274_201, ["Typecheck I16x8ExtractLaneU"]),
    202: (__test_74797065636865636b2e6d6274_202, ["Typecheck I32x4ExtractLane"]),
    203: (__test_74797065636865636b2e6d6274_203, ["Typecheck I64x2ExtractLane"]),
    204: (__test_74797065636865636b2e6d6274_204, ["Typecheck F32x4ExtractLane"]),
    205: (__test_74797065636865636b2e6d6274_205, ["Typecheck F64x2ExtractLane"]),
    206: (__test_74797065636865636b2e6d6274_206, ["Typecheck I8x16ReplaceLane"]),
    207: (__test_74797065636865636b2e6d6274_207, ["Typecheck I16x8ReplaceLane"]),
    208: (__test_74797065636865636b2e6d6274_208, ["Typecheck I32x4ReplaceLane"]),
    209: (__test_74797065636865636b2e6d6274_209, ["Typecheck I64x2ReplaceLane"]),
    210: (__test_74797065636865636b2e6d6274_210, ["Typecheck F32x4ReplaceLane"]),
    211: (__test_74797065636865636b2e6d6274_211, ["Typecheck F64x2ReplaceLane"]),
    212: (__test_74797065636865636b2e6d6274_212, ["Typecheck V128Not"]),
    213: (__test_74797065636865636b2e6d6274_213, ["Typecheck I8x16Abs"]),
    214: (__test_74797065636865636b2e6d6274_214, ["Typecheck I16x8Neg"]),
    215: (__test_74797065636865636b2e6d6274_215, ["Typecheck I32x4AllTrue"]),
    216: (__test_74797065636865636b2e6d6274_216, ["Typecheck V128And"]),
    217: (__test_74797065636865636b2e6d6274_217, ["Typecheck I8x16Add"]),
    218: (__test_74797065636865636b2e6d6274_218, ["Typecheck I16x8Mul"]),
    219: (__test_74797065636865636b2e6d6274_219, ["Typecheck I32x4Sub"]),
    220: (__test_74797065636865636b2e6d6274_220, ["Typecheck F32x4Div"]),
    221: (__test_74797065636865636b2e6d6274_221, ["Typecheck I8x16Eq"]),
    222: (__test_74797065636865636b2e6d6274_222, ["Typecheck I16x8LtS"]),
    223: (__test_74797065636865636b2e6d6274_223, ["Typecheck I32x4GtU"]),
    224: (__test_74797065636865636b2e6d6274_224, ["Typecheck F32x4Le"]),
    225: (__test_74797065636865636b2e6d6274_225, ["Typecheck V128Bitselect"]),
    226: (__test_74797065636865636b2e6d6274_226, ["Typecheck V128Load8Lane"]),
    227: (__test_74797065636865636b2e6d6274_227, ["Typecheck V128Store16Lane"]),
    228: (__test_74797065636865636b2e6d6274_228, ["Typecheck Call"]),
    229: (__test_74797065636865636b2e6d6274_229, ["Typecheck Call no args no results"]),
    230: (__test_74797065636865636b2e6d6274_230, ["Typecheck Call invalid func index"]),
    231: (__test_74797065636865636b2e6d6274_231, ["Typecheck Call type mismatch"]),
    232: (__test_74797065636865636b2e6d6274_232, ["Typecheck CallIndirect"]),
    233: (__test_74797065636865636b2e6d6274_233, ["Typecheck ReturnCall"]),
    234: (__test_74797065636865636b2e6d6274_234, ["Typecheck ReturnCallIndirect"]),
    235: (__test_74797065636865636b2e6d6274_235, ["Typecheck CallRef"]),
    236: (__test_74797065636865636b2e6d6274_236, ["Typecheck ReturnCallRef"]),
    237: (__test_74797065636865636b2e6d6274_237, ["Typecheck RefFunc"]),
    238: (__test_74797065636865636b2e6d6274_238, ["Typecheck RefFunc invalid index"]),
    239: (__test_74797065636865636b2e6d6274_239, ["Typecheck RefTest non-nullable"]),
    240: (__test_74797065636865636b2e6d6274_240, ["Typecheck RefTest eq from any"]),
    241: (__test_74797065636865636b2e6d6274_241, ["Typecheck RefTest struct from eq"]),
    242: (__test_74797065636865636b2e6d6274_242, ["Typecheck RefTest fails when target not subtype of operand"]),
    243: (__test_74797065636865636b2e6d6274_243, ["Typecheck RefTest with concrete type recursive"]),
    244: (__test_74797065636865636b2e6d6274_244, ["Typecheck RefTest with concrete type in global types"]),
    245: (__test_74797065636865636b2e6d6274_245, ["Typecheck RefCast non-nullable"]),
    246: (__test_74797065636865636b2e6d6274_246, ["Typecheck BrOnCast"]),
    247: (__test_74797065636865636b2e6d6274_247, ["Typecheck BrOnCastFail"]),
    248: (__test_74797065636865636b2e6d6274_248, ["Typecheck Throw"]),
    249: (__test_74797065636865636b2e6d6274_249, ["Typecheck Throw invalid tag"]),
    250: (__test_74797065636865636b2e6d6274_250, ["Typecheck ThrowRef"]),
    251: (__test_74797065636865636b2e6d6274_251, ["Typecheck TryTable empty"]),
    252: (__test_74797065636865636b2e6d6274_252, ["Typecheck TryTable with result"]),
    253: (__test_74797065636865636b2e6d6274_253, ["Typecheck StructNew"]),
    254: (__test_74797065636865636b2e6d6274_254, ["Typecheck StructNewDefault"]),
    255: (__test_74797065636865636b2e6d6274_255, ["Typecheck StructGet"]),
    256: (__test_74797065636865636b2e6d6274_256, ["Typecheck StructGetS"]),
    257: (__test_74797065636865636b2e6d6274_257, ["Typecheck StructGetU"]),
    258: (__test_74797065636865636b2e6d6274_258, ["Typecheck StructSet"]),
    259: (__test_74797065636865636b2e6d6274_259, ["Typecheck ArrayNew"]),
    260: (__test_74797065636865636b2e6d6274_260, ["Typecheck ArrayNewDefault"]),
    261: (__test_74797065636865636b2e6d6274_261, ["Typecheck ArrayNewFixed"]),
    262: (__test_74797065636865636b2e6d6274_262, ["Typecheck ArrayNewData"]),
    263: (__test_74797065636865636b2e6d6274_263, ["Typecheck ArrayNewElem"]),
    264: (__test_74797065636865636b2e6d6274_264, ["Typecheck ArrayGet"]),
    265: (__test_74797065636865636b2e6d6274_265, ["Typecheck ArrayGetS"]),
    266: (__test_74797065636865636b2e6d6274_266, ["Typecheck ArrayGetU"]),
    267: (__test_74797065636865636b2e6d6274_267, ["Typecheck ArraySet"]),
    268: (__test_74797065636865636b2e6d6274_268, ["Typecheck ArrayLen"]),
    269: (__test_74797065636865636b2e6d6274_269, ["Typecheck ArrayFill"]),
    270: (__test_74797065636865636b2e6d6274_270, ["Typecheck ArrayCopy"]),
    271: (__test_74797065636865636b2e6d6274_271, ["Typecheck ArrayInitData"]),
    272: (__test_74797065636865636b2e6d6274_272, ["Typecheck ArrayInitElem"]),
    273: (__test_74797065636865636b2e6d6274_273, ["Typecheck MemoryInit"]),
    274: (__test_74797065636865636b2e6d6274_274, ["Typecheck DataDrop"]),
    275: (__test_74797065636865636b2e6d6274_275, ["Typecheck DataDrop invalid index"]),
    276: (__test_74797065636865636b2e6d6274_276, ["Typecheck TableInit"]),
    277: (__test_74797065636865636b2e6d6274_277, ["Typecheck ElemDrop"]),
    278: (__test_74797065636865636b2e6d6274_278, ["Typecheck ElemDrop invalid index"]),
    279: (__test_74797065636865636b2e6d6274_279, ["Typecheck I64LtU"]),
    280: (__test_74797065636865636b2e6d6274_280, ["Typecheck I64GtS"]),
    281: (__test_74797065636865636b2e6d6274_281, ["Typecheck I64LeS"]),
    282: (__test_74797065636865636b2e6d6274_282, ["Typecheck I64LeU"]),
    283: (__test_74797065636865636b2e6d6274_283, ["Typecheck I64GeS"]),
    284: (__test_74797065636865636b2e6d6274_284, ["Typecheck I64GeU"]),
    285: (__test_74797065636865636b2e6d6274_285, ["Typecheck I64Ctz"]),
    286: (__test_74797065636865636b2e6d6274_286, ["Typecheck I64Popcnt"]),
    287: (__test_74797065636865636b2e6d6274_287, ["Typecheck I64DivS"]),
    288: (__test_74797065636865636b2e6d6274_288, ["Typecheck I64DivU"]),
    289: (__test_74797065636865636b2e6d6274_289, ["Typecheck I64RemS"]),
    290: (__test_74797065636865636b2e6d6274_290, ["Typecheck I64RemU"]),
    291: (__test_74797065636865636b2e6d6274_291, ["Typecheck I64And"]),
    292: (__test_74797065636865636b2e6d6274_292, ["Typecheck I64Or"]),
    293: (__test_74797065636865636b2e6d6274_293, ["Typecheck I64Xor"]),
    294: (__test_74797065636865636b2e6d6274_294, ["Typecheck I64Shl"]),
    295: (__test_74797065636865636b2e6d6274_295, ["Typecheck I64ShrS"]),
    296: (__test_74797065636865636b2e6d6274_296, ["Typecheck I64ShrU"]),
    297: (__test_74797065636865636b2e6d6274_297, ["Typecheck I64Rotl"]),
    298: (__test_74797065636865636b2e6d6274_298, ["Typecheck I64Rotr"]),
    299: (__test_74797065636865636b2e6d6274_299, ["Typecheck F64Ne"]),
    300: (__test_74797065636865636b2e6d6274_300, ["Typecheck F64Gt"]),
    301: (__test_74797065636865636b2e6d6274_301, ["Typecheck F64Le"]),
    302: (__test_74797065636865636b2e6d6274_302, ["Typecheck F64Ge"]),
    303: (__test_74797065636865636b2e6d6274_303, ["Typecheck F64Ceil"]),
    304: (__test_74797065636865636b2e6d6274_304, ["Typecheck F64Floor"]),
    305: (__test_74797065636865636b2e6d6274_305, ["Typecheck F64Trunc"]),
    306: (__test_74797065636865636b2e6d6274_306, ["Typecheck F64Nearest"]),
    307: (__test_74797065636865636b2e6d6274_307, ["Typecheck F64Sqrt"]),
    308: (__test_74797065636865636b2e6d6274_308, ["Typecheck F64Min"]),
    309: (__test_74797065636865636b2e6d6274_309, ["Typecheck F64Max"]),
    310: (__test_74797065636865636b2e6d6274_310, ["Typecheck F64Copysign"]),
    311: (__test_74797065636865636b2e6d6274_311, ["Typecheck F32Trunc"]),
    312: (__test_74797065636865636b2e6d6274_312, ["Typecheck F32Nearest"]),
    313: (__test_74797065636865636b2e6d6274_313, ["Typecheck I64TruncF32U"]),
    314: (__test_74797065636865636b2e6d6274_314, ["Typecheck I64TruncF64U"]),
    315: (__test_74797065636865636b2e6d6274_315, ["Typecheck F32ConvertI64U"]),
    316: (__test_74797065636865636b2e6d6274_316, ["Typecheck F64ConvertI32U"]),
    317: (__test_74797065636865636b2e6d6274_317, ["Typecheck F64ConvertI64U"]),
    318: (__test_74797065636865636b2e6d6274_318, ["Typecheck I32TruncSatF64U"]),
    319: (__test_74797065636865636b2e6d6274_319, ["Typecheck I64TruncSatF32U"]),
    320: (__test_74797065636865636b2e6d6274_320, ["Typecheck I64TruncSatF64U"]),
    321: (__test_74797065636865636b2e6d6274_321, ["Typecheck I64Load8U"]),
    322: (__test_74797065636865636b2e6d6274_322, ["Typecheck I64Load16S"]),
    323: (__test_74797065636865636b2e6d6274_323, ["Typecheck I64Load16U"]),
    324: (__test_74797065636865636b2e6d6274_324, ["Typecheck I64Load32U"]),
    325: (__test_74797065636865636b2e6d6274_325, ["Typecheck I32Store16"]),
    326: (__test_74797065636865636b2e6d6274_326, ["Typecheck I64Store8"]),
    327: (__test_74797065636865636b2e6d6274_327, ["Typecheck I64Store16"]),
    328: (__test_74797065636865636b2e6d6274_328, ["Typecheck I8x16Shuffle"]),
    329: (__test_74797065636865636b2e6d6274_329, ["Typecheck I8x16Swizzle"]),
    330: (__test_74797065636865636b2e6d6274_330, ["Typecheck V128AnyTrue"]),
    331: (__test_74797065636865636b2e6d6274_331, ["Typecheck I8x16AllTrue"]),
    332: (__test_74797065636865636b2e6d6274_332, ["Typecheck I8x16Bitmask"]),
    333: (__test_74797065636865636b2e6d6274_333, ["Typecheck I16x8Bitmask"]),
    334: (__test_74797065636865636b2e6d6274_334, ["Typecheck I32x4Bitmask"]),
    335: (__test_74797065636865636b2e6d6274_335, ["Typecheck I64x2Bitmask"]),
    336: (__test_74797065636865636b2e6d6274_336, ["Typecheck V128Or"]),
    337: (__test_74797065636865636b2e6d6274_337, ["Typecheck V128Xor"]),
    338: (__test_74797065636865636b2e6d6274_338, ["Typecheck V128Andnot"]),
    339: (__test_74797065636865636b2e6d6274_339, ["Typecheck I8x16Neg"]),
    340: (__test_74797065636865636b2e6d6274_340, ["Typecheck I8x16Popcnt"]),
    341: (__test_74797065636865636b2e6d6274_341, ["Typecheck I8x16Sub"]),
    342: (__test_74797065636865636b2e6d6274_342, ["Typecheck I8x16AddSatS"]),
    343: (__test_74797065636865636b2e6d6274_343, ["Typecheck I8x16AddSatU"]),
    344: (__test_74797065636865636b2e6d6274_344, ["Typecheck I64x2Add"]),
    345: (__test_74797065636865636b2e6d6274_345, ["Typecheck I64x2Sub"]),
    346: (__test_74797065636865636b2e6d6274_346, ["Typecheck I64x2Mul"]),
    347: (__test_74797065636865636b2e6d6274_347, ["Typecheck F32x4Add"]),
    348: (__test_74797065636865636b2e6d6274_348, ["Typecheck F32x4Sub"]),
    349: (__test_74797065636865636b2e6d6274_349, ["Typecheck F32x4Mul"]),
    350: (__test_74797065636865636b2e6d6274_350, ["Typecheck F64x2Add"]),
    351: (__test_74797065636865636b2e6d6274_351, ["Typecheck F64x2Sub"]),
    352: (__test_74797065636865636b2e6d6274_352, ["Typecheck F64x2Mul"]),
    353: (__test_74797065636865636b2e6d6274_353, ["Typecheck F64x2Div"]),
    354: (__test_74797065636865636b2e6d6274_354, ["Typecheck F32x4Abs"]),
    355: (__test_74797065636865636b2e6d6274_355, ["Typecheck F32x4Neg"]),
    356: (__test_74797065636865636b2e6d6274_356, ["Typecheck F32x4Sqrt"]),
    357: (__test_74797065636865636b2e6d6274_357, ["Typecheck F64x2Abs"]),
    358: (__test_74797065636865636b2e6d6274_358, ["Typecheck F64x2Neg"]),
    359: (__test_74797065636865636b2e6d6274_359, ["Typecheck F64x2Sqrt"]),
    360: (__test_74797065636865636b2e6d6274_360, ["Typecheck V128Load32Zero"]),
    361: (__test_74797065636865636b2e6d6274_361, ["Typecheck V128Load64Zero"]),
    362: (__test_74797065636865636b2e6d6274_362, ["Typecheck V128Load8x8S"]),
    363: (__test_74797065636865636b2e6d6274_363, ["Typecheck V128Load8x8U"]),
    364: (__test_74797065636865636b2e6d6274_364, ["Typecheck V128Load16x4S"]),
    365: (__test_74797065636865636b2e6d6274_365, ["Typecheck V128Load16x4U"]),
    366: (__test_74797065636865636b2e6d6274_366, ["Typecheck V128Load32x2S"]),
    367: (__test_74797065636865636b2e6d6274_367, ["Typecheck V128Load32x2U"]),
    368: (__test_74797065636865636b2e6d6274_368, ["Typecheck V128Load8Splat"]),
    369: (__test_74797065636865636b2e6d6274_369, ["Typecheck V128Load16Splat"]),
    370: (__test_74797065636865636b2e6d6274_370, ["Typecheck V128Load32Splat"]),
    371: (__test_74797065636865636b2e6d6274_371, ["Typecheck V128Load64Splat"]),
    372: (__test_74797065636865636b2e6d6274_372, ["Typecheck V128Load32Lane"]),
    373: (__test_74797065636865636b2e6d6274_373, ["Typecheck V128Load64Lane"]),
    374: (__test_74797065636865636b2e6d6274_374, ["Typecheck V128Store8Lane"]),
    375: (__test_74797065636865636b2e6d6274_375, ["Typecheck V128Store32Lane"]),
    376: (__test_74797065636865636b2e6d6274_376, ["Typecheck V128Store64Lane"]),
    377: (__test_74797065636865636b2e6d6274_377, ["Typecheck F32x4DemoteF64x2Zero"]),
    378: (__test_74797065636865636b2e6d6274_378, ["Typecheck F64x2PromoteLowF32x4"]),
    379: (__test_74797065636865636b2e6d6274_379, ["Typecheck I32x4TruncSatF32x4S"]),
    380: (__test_74797065636865636b2e6d6274_380, ["Typecheck I32x4TruncSatF32x4U"]),
    381: (__test_74797065636865636b2e6d6274_381, ["Typecheck F32x4ConvertI32x4S"]),
    382: (__test_74797065636865636b2e6d6274_382, ["Typecheck F32x4ConvertI32x4U"]),
    383: (__test_74797065636865636b2e6d6274_383, ["Typecheck I32x4TruncSatF64x2SZero"]),
    384: (__test_74797065636865636b2e6d6274_384, ["Typecheck I32x4TruncSatF64x2UZero"]),
    385: (__test_74797065636865636b2e6d6274_385, ["Typecheck F64x2ConvertLowI32x4S"]),
    386: (__test_74797065636865636b2e6d6274_386, ["Typecheck F64x2ConvertLowI32x4U"]),
    387: (__test_74797065636865636b2e6d6274_387, ["Typecheck I8x16NarrowI16x8S"]),
    388: (__test_74797065636865636b2e6d6274_388, ["Typecheck I8x16NarrowI16x8U"]),
    389: (__test_74797065636865636b2e6d6274_389, ["Typecheck I8x16Shl"]),
    390: (__test_74797065636865636b2e6d6274_390, ["Typecheck I8x16ShrS"]),
    391: (__test_74797065636865636b2e6d6274_391, ["Typecheck I8x16ShrU"]),
    392: (__test_74797065636865636b2e6d6274_392, ["Typecheck I8x16SubSatS"]),
    393: (__test_74797065636865636b2e6d6274_393, ["Typecheck I8x16SubSatU"]),
    394: (__test_74797065636865636b2e6d6274_394, ["Typecheck I8x16MinS"]),
    395: (__test_74797065636865636b2e6d6274_395, ["Typecheck I8x16MinU"]),
    396: (__test_74797065636865636b2e6d6274_396, ["Typecheck I8x16MaxS"]),
    397: (__test_74797065636865636b2e6d6274_397, ["Typecheck I8x16MaxU"]),
    398: (__test_74797065636865636b2e6d6274_398, ["Typecheck I8x16AvgrU"]),
    399: (__test_74797065636865636b2e6d6274_399, ["Typecheck I16x8Abs"]),
    400: (__test_74797065636865636b2e6d6274_400, ["Typecheck I16x8AllTrue"]),
    401: (__test_74797065636865636b2e6d6274_401, ["Typecheck I16x8Q15mulrSatS"]),
    402: (__test_74797065636865636b2e6d6274_402, ["Typecheck I16x8NarrowI32x4S"]),
    403: (__test_74797065636865636b2e6d6274_403, ["Typecheck I16x8NarrowI32x4U"]),
    404: (__test_74797065636865636b2e6d6274_404, ["Typecheck I16x8ExtendLowI8x16S"]),
    405: (__test_74797065636865636b2e6d6274_405, ["Typecheck I16x8ExtendHighI8x16S"]),
    406: (__test_74797065636865636b2e6d6274_406, ["Typecheck I16x8ExtendLowI8x16U"]),
    407: (__test_74797065636865636b2e6d6274_407, ["Typecheck I16x8ExtendHighI8x16U"]),
    408: (__test_74797065636865636b2e6d6274_408, ["Typecheck I16x8Shl"]),
    409: (__test_74797065636865636b2e6d6274_409, ["Typecheck I16x8ShrS"]),
    410: (__test_74797065636865636b2e6d6274_410, ["Typecheck I16x8ShrU"]),
    411: (__test_74797065636865636b2e6d6274_411, ["Typecheck I16x8Add"]),
    412: (__test_74797065636865636b2e6d6274_412, ["Typecheck I16x8AddSatS"]),
    413: (__test_74797065636865636b2e6d6274_413, ["Typecheck I16x8AddSatU"]),
    414: (__test_74797065636865636b2e6d6274_414, ["Typecheck I16x8Sub"]),
    415: (__test_74797065636865636b2e6d6274_415, ["Typecheck I16x8SubSatS"]),
    416: (__test_74797065636865636b2e6d6274_416, ["Typecheck I16x8SubSatU"]),
    417: (__test_74797065636865636b2e6d6274_417, ["Typecheck I16x8MinS"]),
    418: (__test_74797065636865636b2e6d6274_418, ["Typecheck I16x8MinU"]),
    419: (__test_74797065636865636b2e6d6274_419, ["Typecheck I16x8MaxS"]),
    420: (__test_74797065636865636b2e6d6274_420, ["Typecheck I16x8MaxU"]),
    421: (__test_74797065636865636b2e6d6274_421, ["Typecheck I16x8AvgrU"]),
    422: (__test_74797065636865636b2e6d6274_422, ["Typecheck I16x8ExtmulLowI8x16S"]),
    423: (__test_74797065636865636b2e6d6274_423, ["Typecheck I16x8ExtmulHighI8x16S"]),
    424: (__test_74797065636865636b2e6d6274_424, ["Typecheck I16x8ExtmulLowI8x16U"]),
    425: (__test_74797065636865636b2e6d6274_425, ["Typecheck I16x8ExtmulHighI8x16U"]),
    426: (__test_74797065636865636b2e6d6274_426, ["Typecheck I16x8ExtaddPairwiseI8x16S"]),
    427: (__test_74797065636865636b2e6d6274_427, ["Typecheck I16x8ExtaddPairwiseI8x16U"]),
    428: (__test_74797065636865636b2e6d6274_428, ["Typecheck I32x4Abs"]),
    429: (__test_74797065636865636b2e6d6274_429, ["Typecheck I32x4Neg"]),
    430: (__test_74797065636865636b2e6d6274_430, ["Typecheck I32x4ExtendLowI16x8S"]),
    431: (__test_74797065636865636b2e6d6274_431, ["Typecheck I32x4ExtendHighI16x8S"]),
    432: (__test_74797065636865636b2e6d6274_432, ["Typecheck I32x4ExtendLowI16x8U"]),
    433: (__test_74797065636865636b2e6d6274_433, ["Typecheck I32x4ExtendHighI16x8U"]),
    434: (__test_74797065636865636b2e6d6274_434, ["Typecheck I32x4Shl"]),
    435: (__test_74797065636865636b2e6d6274_435, ["Typecheck I32x4ShrS"]),
    436: (__test_74797065636865636b2e6d6274_436, ["Typecheck I32x4ShrU"]),
    437: (__test_74797065636865636b2e6d6274_437, ["Typecheck I32x4Add"]),
    438: (__test_74797065636865636b2e6d6274_438, ["Typecheck I32x4Mul"]),
    439: (__test_74797065636865636b2e6d6274_439, ["Typecheck I32x4MinS"]),
    440: (__test_74797065636865636b2e6d6274_440, ["Typecheck I32x4MinU"]),
    441: (__test_74797065636865636b2e6d6274_441, ["Typecheck I32x4MaxS"]),
    442: (__test_74797065636865636b2e6d6274_442, ["Typecheck I32x4MaxU"]),
    443: (__test_74797065636865636b2e6d6274_443, ["Typecheck I32x4DotI16x8S"]),
    444: (__test_74797065636865636b2e6d6274_444, ["Typecheck I32x4ExtmulLowI16x8S"]),
    445: (__test_74797065636865636b2e6d6274_445, ["Typecheck I32x4ExtmulHighI16x8S"]),
    446: (__test_74797065636865636b2e6d6274_446, ["Typecheck I32x4ExtmulLowI16x8U"]),
    447: (__test_74797065636865636b2e6d6274_447, ["Typecheck I32x4ExtmulHighI16x8U"]),
    448: (__test_74797065636865636b2e6d6274_448, ["Typecheck I32x4ExtaddPairwiseI16x8S"]),
    449: (__test_74797065636865636b2e6d6274_449, ["Typecheck I32x4ExtaddPairwiseI16x8U"]),
    450: (__test_74797065636865636b2e6d6274_450, ["Typecheck I64x2Abs"]),
    451: (__test_74797065636865636b2e6d6274_451, ["Typecheck I64x2Neg"]),
    452: (__test_74797065636865636b2e6d6274_452, ["Typecheck I64x2AllTrue"]),
    453: (__test_74797065636865636b2e6d6274_453, ["Typecheck I64x2ExtendLowI32x4S"]),
    454: (__test_74797065636865636b2e6d6274_454, ["Typecheck I64x2ExtendHighI32x4S"]),
    455: (__test_74797065636865636b2e6d6274_455, ["Typecheck I64x2ExtendLowI32x4U"]),
    456: (__test_74797065636865636b2e6d6274_456, ["Typecheck I64x2ExtendHighI32x4U"]),
    457: (__test_74797065636865636b2e6d6274_457, ["Typecheck I64x2Shl"]),
    458: (__test_74797065636865636b2e6d6274_458, ["Typecheck I64x2ShrS"]),
    459: (__test_74797065636865636b2e6d6274_459, ["Typecheck I64x2ShrU"]),
    460: (__test_74797065636865636b2e6d6274_460, ["Typecheck I64x2Eq"]),
    461: (__test_74797065636865636b2e6d6274_461, ["Typecheck I64x2Ne"]),
    462: (__test_74797065636865636b2e6d6274_462, ["Typecheck I64x2LtS"]),
    463: (__test_74797065636865636b2e6d6274_463, ["Typecheck I64x2GtS"]),
    464: (__test_74797065636865636b2e6d6274_464, ["Typecheck I64x2LeS"]),
    465: (__test_74797065636865636b2e6d6274_465, ["Typecheck I64x2GeS"]),
    466: (__test_74797065636865636b2e6d6274_466, ["Typecheck I64x2ExtmulLowI32x4S"]),
    467: (__test_74797065636865636b2e6d6274_467, ["Typecheck I64x2ExtmulHighI32x4S"]),
    468: (__test_74797065636865636b2e6d6274_468, ["Typecheck I64x2ExtmulLowI32x4U"]),
    469: (__test_74797065636865636b2e6d6274_469, ["Typecheck I64x2ExtmulHighI32x4U"]),
    470: (__test_74797065636865636b2e6d6274_470, ["Typecheck F32x4Ceil"]),
    471: (__test_74797065636865636b2e6d6274_471, ["Typecheck F32x4Floor"]),
    472: (__test_74797065636865636b2e6d6274_472, ["Typecheck F32x4Trunc"]),
    473: (__test_74797065636865636b2e6d6274_473, ["Typecheck F32x4Nearest"]),
    474: (__test_74797065636865636b2e6d6274_474, ["Typecheck F32x4Min"]),
    475: (__test_74797065636865636b2e6d6274_475, ["Typecheck F32x4Max"]),
    476: (__test_74797065636865636b2e6d6274_476, ["Typecheck F32x4Pmin"]),
    477: (__test_74797065636865636b2e6d6274_477, ["Typecheck F32x4Pmax"]),
    478: (__test_74797065636865636b2e6d6274_478, ["Typecheck F64x2Ceil"]),
    479: (__test_74797065636865636b2e6d6274_479, ["Typecheck F64x2Floor"]),
    480: (__test_74797065636865636b2e6d6274_480, ["Typecheck F64x2Trunc"]),
    481: (__test_74797065636865636b2e6d6274_481, ["Typecheck F64x2Nearest"]),
    482: (__test_74797065636865636b2e6d6274_482, ["Typecheck F64x2Min"]),
    483: (__test_74797065636865636b2e6d6274_483, ["Typecheck F64x2Max"]),
    484: (__test_74797065636865636b2e6d6274_484, ["Typecheck F64x2Pmin"]),
    485: (__test_74797065636865636b2e6d6274_485, ["Typecheck F64x2Pmax"]),
    486: (__test_74797065636865636b2e6d6274_486, ["Typecheck I8x16RelaxedSwizzle"]),
    487: (__test_74797065636865636b2e6d6274_487, ["Typecheck I32x4RelaxedTruncF32x4S"]),
    488: (__test_74797065636865636b2e6d6274_488, ["Typecheck I32x4RelaxedTruncF32x4U"]),
    489: (__test_74797065636865636b2e6d6274_489, ["Typecheck I32x4RelaxedTruncZeroF64x2S"]),
    490: (__test_74797065636865636b2e6d6274_490, ["Typecheck I32x4RelaxedTruncZeroF64x2U"]),
    491: (__test_74797065636865636b2e6d6274_491, ["Typecheck F32x4RelaxedMadd"]),
    492: (__test_74797065636865636b2e6d6274_492, ["Typecheck F32x4RelaxedNmadd"]),
    493: (__test_74797065636865636b2e6d6274_493, ["Typecheck F64x2RelaxedMadd"]),
    494: (__test_74797065636865636b2e6d6274_494, ["Typecheck F64x2RelaxedNmadd"]),
    495: (__test_74797065636865636b2e6d6274_495, ["Typecheck I8x16RelaxedLaneselect"]),
    496: (__test_74797065636865636b2e6d6274_496, ["Typecheck I16x8RelaxedLaneselect"]),
    497: (__test_74797065636865636b2e6d6274_497, ["Typecheck I32x4RelaxedLaneselect"]),
    498: (__test_74797065636865636b2e6d6274_498, ["Typecheck I64x2RelaxedLaneselect"]),
    499: (__test_74797065636865636b2e6d6274_499, ["Typecheck F32x4RelaxedMin"]),
    500: (__test_74797065636865636b2e6d6274_500, ["Typecheck F32x4RelaxedMax"]),
    501: (__test_74797065636865636b2e6d6274_501, ["Typecheck F64x2RelaxedMin"]),
    502: (__test_74797065636865636b2e6d6274_502, ["Typecheck F64x2RelaxedMax"]),
    503: (__test_74797065636865636b2e6d6274_503, ["Typecheck I16x8RelaxedQ15mulrS"]),
    504: (__test_74797065636865636b2e6d6274_504, ["Typecheck I16x8RelaxedDotI8x16I7x16S"]),
    505: (__test_74797065636865636b2e6d6274_505, ["Typecheck I32x4RelaxedDotI8x16I7x16AddS"]),
  },
  "match.mbt": {
    0: (__test_6d617463682e6d6274_0, ["AbsHeapType: reflexivity"]),
    1: (__test_6d617463682e6d6274_1, ["AbsHeapType: eq <: any"]),
    2: (__test_6d617463682e6d6274_2, ["AbsHeapType: i31/struct/array <: eq"]),
    3: (__test_6d617463682e6d6274_3, ["AbsHeapType: none <: any"]),
    4: (__test_6d617463682e6d6274_4, ["AbsHeapType: noX <: X (bottom types)"]),
    5: (__test_6d617463682e6d6274_5, ["AbsHeapType: unrelated types don't match"]),
    6: (__test_6d617463682e6d6274_6, ["Limits: reflexivity"]),
    7: (__test_6d617463682e6d6274_7, ["Limits: n1 >= n2 required"]),
    8: (__test_6d617463682e6d6274_8, ["Limits: m1 <= m2 required when both bounded"]),
    9: (__test_6d617463682e6d6274_9, ["Limits: bounded matches unbounded"]),
    10: (__test_6d617463682e6d6274_10, ["Limits: unbounded matches unbounded"]),
    11: (__test_6d617463682e6d6274_11, ["Limits: unbounded does not match bounded"]),
    12: (__test_6d617463682e6d6274_12, ["Limits: i32 vs i64 don't match"]),
    13: (__test_6d617463682e6d6274_13, ["MemType: delegates to limits"]),
    14: (__test_6d617463682e6d6274_14, ["StorageType: equality based"]),
    15: (__test_6d617463682e6d6274_15, ["FieldType: const is covariant"]),
    16: (__test_6d617463682e6d6274_16, ["FieldType: var is invariant"]),
    17: (__test_6d617463682e6d6274_17, ["FieldType: const vs var don't match"]),
    18: (__test_6d617463682e6d6274_18, ["ValType: primitive types use equality"]),
    19: (__test_6d617463682e6d6274_19, ["ValType: ref types delegate to RefType matching"]),
    20: (__test_6d617463682e6d6274_20, ["RefType: nullability - non-null <: nullable"]),
    21: (__test_6d617463682e6d6274_21, ["RefType: same nullability"]),
    22: (__test_6d617463682e6d6274_22, ["RefType: heap type subtyping with nullability"]),
    23: (__test_6d617463682e6d6274_23, ["RefType: non-null subtype matches nullable supertype"]),
    24: (__test_6d617463682e6d6274_24, ["HeapType: abs heap type matching"]),
    25: (__test_6d617463682e6d6274_25, ["Array: empty arrays match"]),
    26: (__test_6d617463682e6d6274_26, ["Array: length mismatch"]),
    27: (__test_6d617463682e6d6274_27, ["Array: element-wise matching"]),
    28: (__test_6d617463682e6d6274_28, ["CompType: FuncCompType - contravariant params, covariant results"]),
    29: (__test_6d617463682e6d6274_29, ["CompType: FuncCompType - reflexivity"]),
    30: (__test_6d617463682e6d6274_30, ["CompType: FuncCompType - param count mismatch"]),
    31: (__test_6d617463682e6d6274_31, ["CompType: StructCompType - field matching"]),
    32: (__test_6d617463682e6d6274_32, ["CompType: ArrayCompType - field matching"]),
    33: (__test_6d617463682e6d6274_33, ["CompType: different kinds don't match"]),
    34: (__test_6d617463682e6d6274_34, ["GlobalType: const is covariant"]),
    35: (__test_6d617463682e6d6274_35, ["GlobalType: mut is invariant"]),
    36: (__test_6d617463682e6d6274_36, ["GlobalType: mut self-match"]),
    37: (__test_6d617463682e6d6274_37, ["GlobalType: const vs mut don't match"]),
    38: (__test_6d617463682e6d6274_38, ["TableType: limits and reftype must match"]),
    39: (__test_6d617463682e6d6274_39, ["TableType: reftype is invariant"]),
    40: (__test_6d617463682e6d6274_40, ["TagType: requires bidirectional typeidx matching"]),
    41: (__test_6d617463682e6d6274_41, ["ExternType: different kinds don't match"]),
    42: (__test_6d617463682e6d6274_42, ["ExternType: MemExternType delegates to MemType"]),
    43: (__test_6d617463682e6d6274_43, ["ExternType: GlobalExternType delegates to GlobalType"]),
    44: (__test_6d617463682e6d6274_44, ["ExternType: TableExternType delegates to TableType"]),
    45: (__test_6d617463682e6d6274_45, ["transitive subtyping: i31 <: eq <: any"]),
    46: (__test_6d617463682e6d6274_46, ["complex function type subtyping"]),
    47: (__test_6d617463682e6d6274_47, ["nested ref type in struct field"]),
  },
  "invalid_fuzzer.mbt": {
    0: (__test_696e76616c69645f66757a7a65722e6d6274_0, ["invalidation fuzzing with coverage"]),
    1: (__test_696e76616c69645f66757a7a65722e6d6274_1, ["HeapTypeSwap transformer actually modifies heap types"]),
    2: (__test_696e76616c69645f66757a7a65722e6d6274_2, ["RefType AbsHeapTypeRefType swaps produce different values"]),
    3: (__test_696e76616c69645f66757a7a65722e6d6274_3, ["Exn to Any swap - verify these are actually different hierarchies"]),
  },
  "imports.mbt": {
  },
  "gen_valid.mbt": {
  },
}
let moonbit_test_driver_internal_with_args_tests : Moonbit_Test_Driver_Internal_TestDriver_With_Args_Map = { }  // WILL BE REPLACED
let moonbit_test_driver_internal_async_tests : Moonbit_Test_Driver_Internal_TestDriver_Async_Map = { }  // WILL BE REPLACED
let moonbit_test_driver_internal_async_tests_with_args : Moonbit_Test_Driver_Internal_TestDriver_Async_With_Args_Map = { }  // WILL BE REPLACED

///|
pub fn moonbit_test_driver_internal_do_execute(
  async_tests : Array[async () -> Unit],
  filename : String,
  index : Int,
) -> Unit {
  fn handle_result(
    testname : String,
    message : String,
    skipped : Bool,
  ) {
    // In WASM, this function is called by the external test driver, but here
    // in native mode there's nothing that calls it, so we call it manually.
    if not(skipped) && MOONBIT_TEST_DRIVER_INTERNAL_IS_NATIVE {
      
    }
    let file_name = filename.escape()
    let test_name = testname.escape()
    let message = message.escape()
    @moonbitlang/core/builtin.println("----- BEGIN MOON TEST RESULT -----")
    @moonbitlang/core/builtin.println(
      "{\"package\": \"jtenner/starshine/validate\", \"filename\": \{file_name}, \"index\": \"\{index}\", \"test_name\": \{test_name}, \"message\": \{message}}",
    )
    @moonbitlang/core/builtin.println("----- END MOON TEST RESULT -----")
  }

  fn test_should_be_skipped(name : String, attrs : Array[String]) -> Bool {
    guard MOONBIT_TEST_DRIVER_INTERNAL_IS_NATIVE else { false }
    for attr in attrs {
      if attr is [.."panic", ..] {
        @moonbitlang/core/builtin.println("skipped test block: \{filename}: \{name}")
        handle_result(name, "skipped test", true)
        return true
      }
    } else {
      false
    }
  }

  fn on_err(name : String, err : Error) {
    match err {
      @moonbitlang/core/builtin.Failure(e)
      | @moonbitlang/core/builtin.InspectError(e)
      | @moonbitlang/core/builtin.SnapshotError(e)
      | MoonBitTestDriverInternalJsError(e) => {
        handle_result(name, e, false)
      }
      e => {
        let message = moonbit_test_driver_internal_error_to_string(e)
        handle_result(name, message, false)
      }
    }
  }

  if (
    moonbit_test_driver_internal_no_args_tests.get(filename) is Some(index_map) &&
    index_map.get(index) is Some((f, attrs))
  ) {
    let name = if attrs is [name, ..] { name } else { "" }
    guard !test_should_be_skipped(name, attrs) else {}
    moonbit_test_driver_internal_catch_error(
      f,
      on_ok=() => handle_result(name, "", false),
      on_err=(err) => on_err(name, err),
    )
    return
  }

  if (
    moonbit_test_driver_internal_with_args_tests.get(filename) is Some(index_map) &&
    index_map.get(index) is Some((f, attrs))
  ) {
    let name = if attrs is [name, ..] { name } else { "" }
    guard !test_should_be_skipped(name, attrs) else {}
    moonbit_test_driver_internal_catch_error(
      () => f(moonbit_test_driver_internal_new_test_arg(name)),
      on_ok=() => handle_result(name, "", false),
      on_err=err => on_err(name, err),
    )
    return
  }

  if (
    moonbit_test_driver_internal_async_tests.get(filename) is Some(index_map) &&
    index_map.get(index) is Some((f, attrs))
  ) {
    let name = if attrs is [name, ..] { name } else { "" }
    guard !test_should_be_skipped(name, attrs) else {}
    async_tests.push(() => {
      try f() catch {
        err if moonbit_test_driver_internal_is_being_cancelled() => raise err
        err => on_err(name, err)
      } noraise {
        _ => handle_result(name, "", false)
      }
    })
    return
  }

  if (
    moonbit_test_driver_internal_async_tests_with_args.get(filename) is Some(index_map) &&
    index_map.get(index) is Some((f, attrs))
  ) {
    let name = if attrs is [name, ..] { name } else { "" }
    guard !test_should_be_skipped(name, attrs) else {}
    async_tests.push(() => {
      try f(moonbit_test_driver_internal_new_test_arg(name)) catch {
        err if moonbit_test_driver_internal_is_being_cancelled() => raise err
        err => on_err(name, err)
      } noraise {
        _ => handle_result(name, "", false)
      }
    })
    return
  }

  handle_result("", "skipped test", true)
}

///|
let moonbit_test_driver_internal_max_concurrent_tests : Int = 10

#cfg(target="native")
#test_entry
fn main {
  let async_tests = []
  for arg in moonbit_test_driver_internal_native_parse_args() {
    moonbit_test_driver_internal_do_execute(async_tests, arg.0, arg.1)
  }
  moonbit_test_driver_internal_run_async_tests(async_tests)
}

#cfg(not(target="native"))
#test_entry
fn main {
  ()
}

#cfg(target="js")
pub fn moonbit_test_driver_internal_execute(
  tests : Array[MoonBitTestDriverInternalTestEntry],
) -> Unit {
  let async_tests = []
  for i in 0..<tests.length() {
    let entry = tests[i]
    moonbit_test_driver_internal_do_execute(async_tests, entry.filename(), entry.index())
  }
  moonbit_test_driver_internal_run_async_tests(async_tests)
}

#cfg(any(target="wasm", target="wasm-gc"))
pub fn moonbit_test_driver_internal_execute(
  filename : MoonbitTestDriverInternalExternString,
  index : Int,
) -> Unit {
  let filename = moonbit_test_driver_internal_get_file_name(filename)
  let async_tests = []
  moonbit_test_driver_internal_do_execute(async_tests, filename, index)
  moonbit_test_driver_internal_run_async_tests(async_tests)
}

#cfg(not(target="native"))
pub fn moonbit_test_driver_finish() -> Unit {
  
}
type Moonbit_Test_Driver_Internal_Test_Arg = Int

fn moonbit_test_driver_internal_new_test_arg(
  _ : String,
) -> Moonbit_Test_Driver_Internal_Test_Arg {
  42
}
///|
fn moonbit_test_driver_internal_run_async_tests(
  _tests : @moonbitlang/core/builtin.Array[async () -> Unit],
) -> Unit {
  @moonbitlang/core/builtin.ignore(moonbit_test_driver_internal_max_concurrent_tests)
}

///|
fn moonbit_test_driver_internal_is_being_cancelled() -> Bool {
  false
}
fn moonbit_test_driver_internal_error_to_string(x : Error) -> String = "%error.to_string"

#cfg(target="native")
fn string_get(s: String, index: Int) -> Int = "%string_get"

#cfg(not(target="js"))
fn moonbit_unsafe_char_from_int(x : Int) -> Char = "%identity"

#cfg(target="native")
const MOONBIT_TEST_DRIVER_INTERNAL_IS_NATIVE = true

#cfg(not(target="native"))
const MOONBIT_TEST_DRIVER_INTERNAL_IS_NATIVE = false

// =========================================================
// ================== BEGIN WASM SPECIFIC ==================
// =========================================================

#cfg(any(target="wasm", target="wasm-gc"))
fn moonbit_test_driver_internal_get_file_name(file_name : MoonbitTestDriverInternalExternString) -> String {
  moonbit_test_driver_internal_string_from_extern(file_name)
}

#cfg(any(target="wasm", target="wasm-gc"))
#external
type MoonbitTestDriverInternalStringReadHandle

#cfg(any(target="wasm", target="wasm-gc"))
#external
type MoonbitTestDriverInternalExternString

#cfg(any(target="wasm", target="wasm-gc"))
fn moonbit_test_driver_internal_begin_read_string(s : MoonbitTestDriverInternalExternString) -> MoonbitTestDriverInternalStringReadHandle = "__moonbit_fs_unstable" "begin_read_string"

#cfg(any(target="wasm", target="wasm-gc"))
fn moonbit_test_driver_internal_string_read_char(handle : MoonbitTestDriverInternalStringReadHandle) -> Int = "__moonbit_fs_unstable" "string_read_char"

#cfg(any(target="wasm", target="wasm-gc"))
fn moonbit_test_driver_internal_finish_read_string(handle : MoonbitTestDriverInternalStringReadHandle) = "__moonbit_fs_unstable" "finish_read_string"

#cfg(any(target="wasm", target="wasm-gc"))
fn fixedarray_to_bytes(arr : FixedArray[Byte]) -> Bytes = "%identity"

#cfg(any(target="wasm", target="wasm-gc"))
fn moonbit_test_driver_internal_string_from_extern(e : MoonbitTestDriverInternalExternString) -> String {
  let buf = FixedArray::make(512, Byte::default())
  let mut len = 0
  let handle = moonbit_test_driver_internal_begin_read_string(e)
  while true {
    let ch = moonbit_test_driver_internal_string_read_char(handle)
    if ch == -1 {
      break
    } else {
      let written_bytes_len = buf.set_utf16le_char(len, moonbit_unsafe_char_from_int(ch))
      len += written_bytes_len
    }
  }
  moonbit_test_driver_internal_finish_read_string(handle)
  fixedarray_to_bytes(buf).to_unchecked_string(offset = 0, length = len).to_string()
}

// =========================================================
// =================== END WASM SPECIFIC ===================
// =========================================================

// =========================================================
// ================= BEGIN NATIVE SPECIFIC =================
// =========================================================
#cfg(target="native")
fn moonbit_test_driver_internal_native_parse_args() -> @moonbitlang/core/builtin.Array[(String, Int)] {
  fn moonbit_test_driver_internal_parse_int_(s : String) -> Int {
    let mut res = 0
    let len = s.length()
    for i = 0; i < len; i = i + 1 {
      res = res * 10 + (string_get(s, i) - '0')
    }
    res
  }

  fn moonbit_test_driver_internal_utf8_bytes_to_mbt_string(bytes : Bytes) -> String {
    let res = @moonbitlang/core/builtin.StringBuilder::new()
    let len = bytes.length()
    let mut i = 0
    while i < len {
      let mut c = bytes[i].to_int()
      if c < 0x80 {
        res.write_char(moonbit_unsafe_char_from_int(c))
        i += 1
      } else if c < 0xE0 {
        if i + 1 >= len {
          break
        }
        c = ((c & 0x1F) << 6) | (bytes[i + 1].to_int() & 0x3F)
        res.write_char(moonbit_unsafe_char_from_int(c))
        i += 2
      } else if c < 0xF0 {
        if i + 2 >= len {
          break
        }
        c = ((c & 0x0F) << 12) |
          ((bytes[i + 1].to_int() & 0x3F) << 6) |
          (bytes[i + 2].to_int() & 0x3F)
        res.write_char(moonbit_unsafe_char_from_int(c))
        i += 3
      } else {
        if i + 3 >= len {
          break
        }
        c = ((c & 0x07) << 18) |
          ((bytes[i + 1].to_int() & 0x3F) << 12) |
          ((bytes[i + 2].to_int() & 0x3F) << 6) |
          (bytes[i + 3].to_int() & 0x3F)
        c -= 0x10000
        res.write_char(moonbit_unsafe_char_from_int((c >> 10) + 0xD800))
        res.write_char(moonbit_unsafe_char_from_int((c & 0x3FF) + 0xDC00))
        i += 4
      }
    }
    res.to_string()
  }

  fn moonbit_test_driver_internal_get_cli_args_internal() -> @moonbitlang/core/builtin.Array[String] {
    let tmp = moonbit_test_driver_internal_get_cli_args_ffi()
    let res = @moonbitlang/core/builtin.Array::new(capacity=tmp.length())
    for i = 0; i < tmp.length(); i = i + 1 {
      res.push(moonbit_test_driver_internal_utf8_bytes_to_mbt_string(tmp[i]))
    }
    res
  }

  fn moonbit_test_driver_internal_split_mbt_string(s : String, sep : Char) -> @moonbitlang/core/builtin.Array[String] {
    let res = []
    let mut i = 0
    let mut start = 0
    while i < s.length() {
      if moonbit_unsafe_char_from_int(string_get(s, i)) == sep {
        res.push(s.unsafe_substring(start = start, end = i))
        start = i + 1
      }
      i += 1
    }
    if start < s.length() {
      res.push(s.unsafe_substring(start = start, end = s.length()))
    }
    res
  }

  let file_and_index = []

  let cli_args = moonbit_test_driver_internal_get_cli_args_internal()
  let test_args = moonbit_test_driver_internal_split_mbt_string(cli_args[1], '/')
  for arg in test_args {
    let file_and_range = moonbit_test_driver_internal_split_mbt_string(arg, ':')
    let file = file_and_range[0]
    let range = file_and_range[1]
    let start_and_end = moonbit_test_driver_internal_split_mbt_string(range, '-')
    let start = moonbit_test_driver_internal_parse_int_(start_and_end[0])
    let end = moonbit_test_driver_internal_parse_int_(start_and_end[1])
    for i = start; i < end; i = i + 1 {
      file_and_index.push((file, i))
    }
  }

  file_and_index
}

#cfg(target="native")
fn moonbit_test_driver_internal_get_cli_args_ffi() -> FixedArray[Bytes] = "$moonbit.get_cli_args"

// =========================================================
// ================== END NATIVE SPECIFIC ==================
// =========================================================

// =========================================================
// -================== BEGIN JS SPECIFIC ===================
// =========================================================

///|
#cfg(target="js")
#external
type MoonBitTestDriverInternalTestEntry

///|
#cfg(target="js")
extern "js" fn MoonBitTestDriverInternalTestEntry::filename(self : Self) -> String =
  #| (entry) => entry[0]

///|
#cfg(target="js")
extern "js" fn MoonBitTestDriverInternalTestEntry::index(self : Self) -> Int =
  #| (entry) => entry[1]

///|
pub(all) suberror MoonBitTestDriverInternalJsError { MoonBitTestDriverInternalJsError(String) }

///|
#cfg(target="js")
fn moonbit_test_driver_internal_catch_error(
  f : () -> Unit raise,
  on_ok~ : () -> Unit,
  on_err~ : (Error) -> Unit,
) -> Unit {
  moonbit_test_driver_internal_js_catch(
    on_err=(err_str) => on_err(MoonBitTestDriverInternalJsError(err_str)),
    () => {
      try f() catch {
        err => on_err(err)
      } noraise {
        _ => on_ok()
      }
    }
  )
}

///|
#cfg(target="js")
extern "js" fn moonbit_test_driver_internal_js_catch(
  f : () -> Unit,
  on_err~ : (String) -> Unit,
) =
  #| (f, on_err) => {
  #|   try {
  #|     f()
  #|   } catch (err) {
  #|     const msg = err.stack.toString()
  #|     on_err(msg)
  #|   }
  #| }

///|
#cfg(not(target="js"))
fn moonbit_test_driver_internal_catch_error(
  f : () -> Unit raise,
  on_ok~ : () -> Unit,
  on_err~ : (Error) -> Unit,
) -> Unit {
  try f() catch {
    err => on_err(err)
  } noraise {
    _ => on_ok()
  }
}

// =========================================================
// -=================== END JS SPECIFIC ====================
// =========================================================
